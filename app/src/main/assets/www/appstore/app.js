webpackJsonp([1],[function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}i(126),i(116),i(115),i(123);var o=i(25),n=a(o),s=i(13),l=a(s),r=i(35),c=a(r),d=i(59),p=a(d),u=i(7),f=a(u),g=i(2),h=a(g),v=i(5),m=a(v),y=i(60),A={init:function(){window.$=Dom7,window.myApp=new Framework7({pushState:!0}),window.mainView=myApp.addView(".view-main",{domCache:!0,animateNavBackIcon:!0,dynamicNavbar:!0}),Template7.global={default_avatar:h.default.DEFAULT_AVATAR,default_prevoew:h.default.DEFAULT_PREVIEW};var e=m.default.getLang();(0,y.initI18nClassName)(e),window.polyglot=(0,y.initI18n)(e),A.replaceMessage(),A.deviceReady(),p.default.init()},replaceMessage:function(){$(".empty-msg").html(polyglot.t("message.empty")),$(".no-more-msg").html(polyglot.t("message.noData")),$("#search-input").attr("placeholder",polyglot.t("message.placeholder"))},initModule:function(){var e=window.location.href;return console.log(e),e.indexOf("index_authority.html")!==-1?void c.default.init():e.indexOf("isIsv=true")!==-1?(window.isIsvList=!0,$(".page").removeClass("main-page").addClass("isv-page"),void l.default.init()):void n.default.init()},deviceReady:function(){return h.default.HAS_CORDOVA?void document.addEventListener("deviceready",function(){function e(e){var t=e.length;return"/"!==e[t-1]?e:e=e.substring(0,t-1)}var t=3;f.default.getLoginUserInfo(function(){--t,0===t&&A.initModule()}),f.default.getDeviceInfo(function(e){window.DEVICE_INFO={device_platform:e.platform,device_id:e.device_id,domain_id:e.domain_id||"workplus",product_version:e.product_version,system_model:e.system_model,system_version:e.system_version,channel_id:e.channel_id,channel_vendor:e.channel_vendor,device_name:e.device_name,device_system_info:e.device_system_info},--t,0===t&&A.initModule()}),f.default.getApiConfig(function(i){console.log(i),window.CONFIG={path:e(i._ApiUrl),img_link:i._ApiUrl+"medias/images/"},--t,0===t&&A.initModule()}),document.addEventListener("backbutton",A.cordovaBackEvent,!1)},!1):A.initModule()},cordovaBackEvent:function(){var e=$(".tip-modal"),t=$(".search-popup"),i=$(".photo-browser"),a=$(".modal");return 0!==e.length?void e.remove():"block"===t.css("display")?(t.hide(),f.default.visibleLeftButton(!0,!1),f.default.changeTitle([polyglot.t("name")]),void f.default.setRightButton([{icon:"6",title:"",action:"js",value:"searchEvent()"}])):0!==a.length?void myApp.closeModal():0!==i.length?void $(".close-popup").trigger("click"):1===$(".page").length?void f.default.getOut():void window.history.go(-1)}};A.init()},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_AVATAR:i(148),DEFAULT_PREVIEW:i(147),LIMIT:20,HAS_CORDOVA:!0,STATUS:{SUCCESS:0,TOKEN_NOT_FOUND:10011},SESSION:{USER_INFO:"user-info",APP_DETAIL:"app-detail",INSTALL_LIST:"install-list"},LANG:["zh-CN","zh-rTW","en"],DEFAULT_LANG:"en",OPEN_ALL_I18N:!0}},,function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(18),n=a(o),s=i(11);t.default={addItem:function(e,t,i){sessionStorage.setItem(e,i?(0,n.default)(t):t)},getItem:function(e,t){var i=sessionStorage.getItem(e);return i&&t?(0,s.escapeObject)(JSON.parse(i)):i?(0,s.escapeString)(i):void 0},delItem:function(e){sessionStorage.removeItem(e)},delAll:function(){sessionStorage.clear()}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(4),n=a(o),s=i(2),l=a(s),r=i(96),c=a(r),d={bindEvents:function(e){for(var t=0,i=e.length;t<i;t++)e[t].element?$(e[t].element).on(e[t].event,e[t].selector,e[t].handler):$(e[t].selector).on(e[t].event,e[t].handler)},renderTpl:function(e,t){return Template7.compile(e)(t)},publishTime:function(e){return(0,c.default)(e,polyglot.t("format.date"))},getPlatform:function(){var e=window.DEVICE_INFO.device_platform;return e},getUrlParams:function(e){var t,i={};if(e){if(e.indexOf("&")>-1){t=e.split("&");for(var a=0;a<t.length;a++)i[t[a].split("=")[0]]=t[a].split("=")[1]}else{var o=e.substring(0,e.indexOf("=")),n=e.substr(e.indexOf("=")+1);i[o]=decodeURI(n)}return i}},getAccessToken:function(){return l.default.HAS_CORDOVA?n.default.getItem(l.default.SESSION.USER_INFO,!0).login_token.access_token:"714a3120de1f4c038190991dcfdd46d8"},removeAllSpace:function(e){return e.replace(/\s+/g,"")},removeAllSpeTag:function(e){return e.replace(/[&\|\\\*^%$#@\-]/g,"")},fixAvatar:function(e,t){return"undefined"==typeof e||null===e||""===e?t:0===e.indexOf("http://")||0===e.indexOf("https://")?e:window.CONFIG.img_link+e+"?access_token="+d.getAccessToken()+"&domain_id="+window.DEVICE_INFO.domain_id},getLang:function(e){var t=window.navigator.userAgent.toUpperCase(),i=(l.default.LANG,null);return i=e?this.matchLangDefault(e):this.matchLangOfUserAgent(t),null===i&&navigator.language&&(i=this.matchLangDefault(navigator.language)),null===i&&(i=l.default.DEFAULT_LANG),i},matchLangDefault:function(e){for(var t=l.default.LANG,i=null,a=0;a<t.length;a++)if(e.toUpperCase()===t[a].toUpperCase()){i=t[a];break}return i},matchLangOfUserAgent:function(e){for(var t=l.default.LANG,i=null,a=0;a<t.length;a++)if(e.indexOf(t[a].toUpperCase())!=-1){i=t[a];break}return i},isEmptyObject:function(e){var t=0;for(var i in e)++t;return 0===t}};t.default=d},,function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(18),n=a(o),s=i(2),l=a(s),r=i(4),c=a(r);t.default={getOut:function(){cordova.exec(function(e){},function(e){alert(e)},"WorkPlus_WebView","exit",[])},getIpAddress:function(e){cordova.exec(function(t){console.log("获取ip成功："+t),t=JSON.parse(t),e(t.ipAddress)},function(e){console.log("调用失败:"+e)},"WorkPlus_DeviceInfo","getIpAddress",[])},AccessTokenOverdue:function(){cordova.exec(function(e){console.log("AccessTokenOverdue")},function(e){console.log("AccessTokenOverdue:"+e)},"WorkPlus_Auth","onAccessTokenOverdue",[])},getLoginUserInfo:function(e){cordova.exec(function(t){var i=t;"string"==typeof t&&(i=JSON.parse(t)),console.log(i),c.default.addItem(l.default.SESSION.USER_INFO,i,!0),e&&e(i)},function(e){console.log("getLoginUserInfo: "+e)},"WorkPlus_Auth","getLoginUserInfo",[])},installApp:function(e,t){cordova.exec(function(e){console.log((0,n.default)(e,null,4)),t(e)},function(e){console.log("调用失败:"+e),t(e)},"WorkPlus_AppStore","installApp",[{app_entries:e.app_entries}])},getDeviceInfo:function(e){cordova.exec(function(t){console.log(t),e(t)},function(e){alert(e)},"WorkPlus_DeviceInfo","getDeviceInfo",[])},getApiConfig:function(e){cordova.exec(function(t){var i=t;"string"==typeof t&&(i=JSON.parse(t)),e&&e(i)},function(e){console("调用失败")},"WorkPlus_LightApp","getConfig",["_ApiUrl"])},changeTitle:function(e){cordova.exec(function(e){console.log("修改标题成功")},function(e){console.log("修改标题失败")},"WorkPlus_WebView","title",e)},visibleLeftButton:function(e,t){cordova.exec(function(e){console.log("visibleLeftButton成功")},function(e){console.log("visibleLeftButton失败:"+e)},"WorkPlus_WebView","visibleLeftButton",[{showBack:e,showClose:t}])},setRightButton:function(e){this.clearRightButtons(function(){cordova.exec(function(e){console.log("设置按钮成功")},function(e){console.log("设置按钮失败:"+e)},"WorkPlus_WebView","rightButtons",[e])})},clearRightButtons:function(e){cordova.exec(function(t){console.log("clearRightButtons成功"),e&&e()},function(e){console.log("clearRightButtons失败:"+e)},"WorkPlus_WebView","clearRightButtons",[])},showImages:function(e){cordova.exec(function(e){console.log((0,n.default)(e,null,4))},function(e){console.error(e)},"WorkPlus_Image","showImages",[e])},selectScopes:function(e,t){cordova.exec(function(e){t(e)},function(e){t("")},"WorkPlus_Contact","selectScopes",[e])},adminQueryApp:function(e,t){cordova.exec(function(e){t(e)},function(e){t("")},"WorkPlus_AppStore","adminQueryApp",[e])},adminRefreshApps:function(e){cordova.exec(function(t){e(t)},function(t){e(t)},"WorkPlus_AppStore","adminRefreshApps",[])}}},,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={alert:function(e,t){myApp.modal({title:polyglot.t("dialog.title"),text:e,buttons:[{text:polyglot.t("dialog.ok"),onClick:function(){t&&t()}}]})},confrim:function(e,t){myApp.modal({title:polyglot.t("dialog.title"),text:e,buttons:[{text:polyglot.t("dialog.cancel")},{text:polyglot.t("dialog.ok"),onClick:function(){t&&t()}}]})}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(37),n=a(o);i(122);var s=i(15),l=a(s),r=i(134),c=a(r),d=i(5),p=a(d),u=i(2),f=a(u),g=i(7),h=a(g),v=i(12),m=a(v),y=i(4),A=a(y),_=i(133),b=a(_),S=i(14),k=i(11),T={init:function(){this.handleCordova();var e=this,t=p.default.getUrlParams(window.location.href.split("?")[1])||{};return this.isIsvApp=!0,this.skip=0,this.searchSkip=0,this.category_id="",this.uid=t.userid,this.org_id=t.orgid,this.limit=f.default.LIMIT,this.week=6048e5,this.user_info=(0,k.unescapeObject)(A.default.getItem(f.default.SESSION.USER_INFO,!0)),this.listBlock=$(".list-block-custom.home ul"),this.homeInfiniteScroll=".isv-page .infinite-scroll",this.searchInfiniteScroll=".search-popup .infinite-scroll",this.homePreloader=$(".isv-page .infinite-scroll-preloader"),this.searchPreloader=$(".search-popup .infinite-scroll-preloader"),this.homeEmptyMsgBox=$(".isv-page .empty-msg"),this.homeNoMoreMsgBox=$(".isv-page .no-more-msg"),this.searchEmptyMsgBox=$(".search-popup .empty-msg"),this.searchNoMoreMsgBox=$(".search-popup .no-more-msg"),this.appMap={},this.allAppList=[],this.installAppStack=[],this.org_id&&"null"!==this.org_id?(this.getCategories(this.org_id,function(){e.getAppList({skip:0},function(t){if(T.homePreloader.hide(),0===t.result.records.length)return void T.homeEmptyMsgBox.show();$(".list-block-custom.home").show(),t.result.records=T.filterHideModeApp(t.result.records);var i=p.default.renderTpl(c.default,t.result);return e.listBlock.html("").append(i),e.bindEventForAppItem(),t.result.records.length<T.limit?void myApp.detachInfiniteScroll(T.homeInfiniteScroll):void 0})}),this.bindEvents(),void this.bindGetOutEvent()):void this.hasNoOrgMustGetOut()},shouldShowTip:function(){},handleCordova:function(){h.default.changeTitle([polyglot.t("isvName")]),h.default.clearRightButtons()},getCategories:function(e,t){var i=this,a={org_id:e,success:function(e){if(console.log(e),e.status!==f.default.STATUS.SUCCESS)return void m.default.alert(e.message);var a=e.result;if(0===a.length)return $(p.default.renderTpl(b.default,{})).insertBefore(".list-block-custom.home"),void T.homePreloader.hide();if($(".nav").show(),f.default.OPEN_ALL_I18N)for(var o=0;o<a.length;o+=1)a[o].name=(0,S.getTagName)(polyglot.locale(),a[o]);i.renderNavList(a),t&&t(),i.shouldShowTip()},error:function(e){console.log(e),m.default.alert(polyglot.t("message.error"))}};l.default.isv.getCategories(a)},renderNavList:function(e){var t='<li class="active" data-type="">'+polyglot.t("tag.all")+"</li>",i=$(".nav-list");if(e){for(var a=0,o=e.length;a<o;a++)t+='<li data-type="'+e[a].id+'">'+e[a].name+"</li>";i.html(t),this.setCategoriesNvaWidth()}},setCategoriesNvaWidth:function(){var e=$(".nav-list"),t=0;e.find("li").each(function(e,i){t+=$(i).outerWidth()}),e.css("width",t+15+"px")},getAppList:function(e,t){function i(e,i,a){return console.log(e),e.status!==f.default.STATUS.SUCCESS?void m.default.alert(e.message):(T.transformData(e.result.records,e.result.total_count||null),void(t&&t(e,i,a)))}function a(e){console.log(e),m.default.alert(polyglot.t("message.error"))}var o={uid:e.uid||T.uid,org_id:e.org_id||T.org_id,category_id:e.category_id||"",skip:e.skip,kw:e.kw||"",success:i,error:a};l.default.isv.getAppsList(o)},transformData:function(e,t){var i=(new Date).getTime();T.allAppList=e;for(var a=0,o=e.length;a<o;a++){var n=e[a];T.appMap[n.id]=n,n.app_id=n.id,n.app_name=n.name,n.app_intro=n.intro,n.app_refresh_time=n.refresh_time,n.isNew=i-n.create_time<T.week,n.linked=!n.can_install,n.isIsvApp=!0,f.default.OPEN_ALL_I18N}},getAppsByCategory:function(){var e=$(this),t=T.category_id=e.data("type");if(!e.hasClass("active")){T.toggleNavActiveClass(e),T.resetAppsListView();var i=T.allAppList.filter(function(e){return!t||e.category_id===t}),a=i.length;if(0===a)return T.homeEmptyMsgBox.show(),void T.homePreloader.hide();var o=p.default.renderTpl(c.default,{records:i});T.listBlock.append($(o)),T.homePreloader.hide(),T.bindEventForAppItem()}},toggleNavActiveClass:function(e){var t=$(".nav"),i=$(".nav-list li"),a="active",o=$(e).offset().left,n=80,s=$(window).width(),l=$(e).outerWidth();i.each(function(e,t){$(t).removeClass(a)}),$(e).addClass(a),o<n&&t.scrollLeft(t.scrollLeft()-n<0?0:t.scrollLeft()-n-l<0?0:t.scrollLeft()-n-l,300),s-o<n+l&&t.scrollLeft(t.scrollLeft()+l+n,300)},resetAppsListView:function(){var e=T;e.listBlock.html(""),e.skip=0,e.homeEmptyMsgBox.hide(),e.homeNoMoreMsgBox.hide(),e.homePreloader.show(),myApp.detachInfiniteScroll($(e.homeInfiniteScroll)),e.appMap={}},loadMore:function(e){var t=!1,i=T;$(e).on("infinite",function(){t||(t=!0,i.getAppList({skip:(i.skip+1)*T.limit,category_id:i.category_id},function(a){t=!1;var o=a.result.access_list.length;if(o>0){++i.skip,a.result.access_list=T.filterHideModeApp(a.result.access_list);var n=p.default.renderTpl(c.default,a.result);i.listBlock.append($(n)),i.bindEventForAppItem()}(0===o||o<i.limit)&&(myApp.detachInfiniteScroll($(e)),i.homePreloader.hide(),i.homeNoMoreMsgBox.show())}))})},filterHideModeApp:function(e){return e.filter(function(e){return 1!==e.app_hide_mode})},getTheApp:function(e){e.stopPropagation();var t=$(this),i=t.parents(".app-item"),a=i.data("id");T.installAppStack.push(a),T.setInstallingById(a),T.installAppById(a)},setInstallingById:function(e){var t=$('.app-item[data-id="'+e+'"]'),i=t.find(".install-btn");i.addClass("ing")},resetInstallStatusById:function(e){var t=$('.app-item[data-id="'+e+'"]'),i=t.find(".install-btn");i.removeClass("ing")},installAppById:function(e){if(e===T.installAppStack[0]){var t=$('.app-item[data-id="'+e+'"]'),i=t.data("app-id"),a=t.find(".item-btn"),o=T.getAppDataById(i,e);T.setAppCategory(o).then(T.purchaseApp.bind(T)).then(function(){a.addClass("success"),o.linked=!0,T.openPurchaseSuccessModal(o)}).catch(function(t){console.log(t),m.default.alert(polyglot.t("message.error")),T.resetInstallStatusById(e)}).finally(function(){setTimeout(function(){T.installAppStack.shift(),T.installAppStack.length>0&&T.installAppById(T.installAppStack[0])},800)})}},setAppCategory:function(e){var t=this;return new n.default(function(i,a){var o={org_id:t.org_id,success:function(t){if(t.status!==f.default.STATUS.SUCCESS)return a();var o=t.result.records,n=o&&o[0]||{};e.categoryDomainId=n.domain_id,e.categoryId=n.id,i(e)},error:function(e){a()}};l.default.getCategories(o)})},purchaseApp:function(e){var t=this;return new n.default(function(i,a){var o={org_id:t.org_id,data:{vendor_id:e.vendor_id,suite_id:e.suite_id,apps:[{catalog_domain:e.categoryDomainId,catalog_id:e.categoryId,agent_id:e.id}],disabled:!1},success:function(e){return e.status!==f.default.STATUS.SUCCESS?a():void i()},error:function(){a()}};l.default.isv.getTheApp(o)})},goDetailPage:function(e){var t=$(this),i=T.getAppDataById(t.data("app-id"),t.data("id"));return A.default.addItem(f.default.SESSION.APP_DETAIL,i,!0),"block"===$(".search-popup").css("display")?($(".search-popup").hide(),void setTimeout(function(){mainView.router.load({url:"page/detail.html",query:{isIsvApp:!0}})},200)):void mainView.router.load({url:"page/detail.html",query:{isIsvApp:!0}})},goPurchasePage:function(e){var t=$(this),i=t.parents(".app-item"),a=T.getAppDataById(i.data("app-id"),i.data("id"));return A.default.addItem(f.default.SESSION.APP_DETAIL,a,!0),"block"===$(".search-popup").css("display")?($(".search-popup").hide(),void setTimeout(function(){mainView.router.load({url:"page/purchase.html"})},200)):void mainView.router.load({url:"page/purchase.html"})},goAuthorityPage:function(e){function t(){A.default.addItem(f.default.SESSION.APP_DETAIL,e,!0),mainView.router.load({url:"page/authority.html",query:{orgid:i.org_id,appid:e.id},reload:!0})}var i=this;return"block"===$(".search-popup").css("display")?($(".search-popup").hide(),void setTimeout(t,200)):void t()},getAppDataById:function(e,t){return T.appMap[e]},bindGoDetailPageEvent:function(){var e=$(".app-item");e.off("click",T.goDetailPage),e.on("click",T.goDetailPage)},bindGoPurchasePageEvent:function(){var e=$(".install-btn");e.off("click",T.goPurchasePage),e.on("click",T.goPurchasePage)},bindEventForAppItem:function(){this.bindGoDetailPageEvent(),this.bindGoPurchasePageEvent()},openSearchModal:function(){function e(){t.hide(),t.find(".navbar input").val(""),t.find(".search-result-list").html(""),t.find(".infinite-scroll-preloader").hide(),myApp.detachInfiniteScroll($(T.searchInfiniteScroll)),h.default.changeTitle([polyglot.t("name")]),h.default.visibleLeftButton(!0,!1),h.default.setRightButton([{icon:"6",title:"",action:"js",value:"searchEvent()"}]),window.navigator.userAgent.toUpperCase().indexOf("ANDROID")<0&&t.find(".navbar input").val("").blur()}T.tip&&T.tip.trigger("click"),h.default.visibleLeftButton(!1,!1);var t=$(".search-popup");t.find(".search-result-list").html(""),t.show(),T.searchSkip=0,T.searchPreloader.hide(),T.searchEmptyMsgBox.hide(),T.searchNoMoreMsgBox.hide(),window.closeSearchEvent=e,h.default.changeTitle([polyglot.t("title.search")]),h.default.setRightButton([{icon:"-1",title:polyglot.t("button.cancel"),action:"js",value:"closeSearchEvent()"}]),t.find(".navbar input").val("").focus()},searchAppByQuery:function(e){var t=1e3;setTimeout(function(){!function(e){e&&e===$("#search-input").val().trim()&&(console.log(!0,"do search"),$(".search-result-list").html(""),T.searchSkip=0,T.searchPreloader.show(),T.searchEmptyMsgBox.hide(),T.searchNoMoreMsgBox.hide(),T.getAppList({skip:0,kw:$("#search-input").val().trim()},function(e){var t=e.result.access_list.length;if(0===t||""===$("#search-input").val().trim())return T.searchEmptyMsgBox.show(),void T.searchPreloader.hide();if(e.result.access_list=T.filterHideModeApp(e.result.access_list),0===e.result.access_list.length&&t<T.limit)return T.searchEmptyMsgBox.show(),void T.searchPreloader.hide();var i=p.default.renderTpl(c.default,e.result);return $(".search-result-list").html("").append($(i)),T.bindEventForAppItem(),e.result.access_list.length<T.limit?(T.searchPreloader.hide(),void myApp.detachInfiniteScroll(T.searchInfiniteScroll)):(T.searchPreloader.show(),void myApp.attachInfiniteScroll(T.searchInfiniteScroll))}))}(e)},t)},loadMoreSearchList:function(e){var t=!1,i=this;$(e).on("infinite",function(){t||(t=!0,i.getAppList({skip:(i.searchSkip+1)*T.limit,kw:$("#search-input").val().trim()},function(a){t=!1;var o=a.result.access_list.length;if(o>0){++i.searchSkip;var n=p.default.renderTpl(c.default,a.result);$(".search-result-list").append($(n)),i.bindEventForAppItem()}(0===o||o<i.limit)&&(myApp.detachInfiniteScroll($(e)),i.searchPreloader.hide(),i.searchNoMoreMsgBox.show())}))})},bindGetOutEvent:function(){$("#get-out").on("click",function(){h.default.getOut()})},hasNoOrgMustGetOut:function(){m.default.alert(polyglot.t("message.noOrg"),function(){h.default.getOut()})},openPurchaseSuccessModal:function(e){myApp.modal({title:"提示",text:"&nbsp;&nbsp;购买成功！",buttons:[{text:"去设置应用权限",onClick:function(){T.goAuthorityPage(e)}}]})},bindEvents:function(){var e=T,t=[{element:".isv-page",selector:".nav-list li",event:"click",handler:this.getAppsByCategory},{element:"body",selector:"#search-input",event:"input",handler:function(){var t=$(this).val().trim();e.searchAppByQuery(t)}}];p.default.bindEvents(t)}};t.default=T},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleCategoryName=t.getTagName=t.getBundleName=t.getAppName=void 0;var o=i(2),n=a(o),s=function(e){var t="";if(!n.default.OPEN_ALL_I18N)return t;switch(e.toUpperCase()){case"EN":t="en_";break;case"ZH-RTW":t="tw_"}return t};t.getAppName=function(e,t){var i=s(e),a="app_"+i+"name";return t[a]||t.app_name},t.getBundleName=function(e,t){var i=s(e),a={"zh-CN":"cn","zh-rTW":"tw",en:"en"},o=a[i]+"name";return t[o]||t.name},t.getTagName=function(e,t){var i=s(e),a=i+"name";return t[a]||t.name},t.getBundleCategoryName=function(e,t){var i=s(e),a="category_"+i+"name";return t[a]||t.category_name}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={url:window.CONFIG.path+e.path,type:"GET",contentType:"application/json",dataType:"json",crossDomain:!0,complete:function(e,t){}};$.each(t,function(t,i){e[t]||(e[t]=i)});var i=e.success;e.success=function(e,t,a){return"string"==typeof e&&(e=JSON.parse(e)),r.default.HAS_CORDOVA&&e.status===r.default.STATUS.TOKEN_NOT_FOUND?void WorkPlus.AccessTokenOverdue():void i(e,t,a)},"POST"===e.type.toUpperCase()&&e.contentType&&e.contentType.indexOf("json")!=-1&&(e.data=(0,s.default)(e.data)),console.log("调用接口:\n%s,\n参数列表:",e.url,e.data||""),$.ajax(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=i(18),s=a(n),l=i(2),r=a(l),c=i(5),d=a(c);t.default={getAppsList:function(e){e.path="/users/"+e.uid+"/apps?org_id="+e.org_id+"&category_id="+e.category_id+"&kw="+(e.kw?d.default.removeAllSpeTag(d.default.removeAllSpace(e.kw)):"")+"&skip="+e.skip+"&limit="+r.default.LIMIT+"&platforms="+d.default.getPlatform()+",general&access_type=mobile&access_token="+d.default.getAccessToken(),o(e)},getCategories:function(e){e.path="/categories?org_id="+e.org_id+"&access_token="+d.default.getAccessToken(),o(e)},getTheApp:function(e){e.path="/users/"+e.uid+"/apps/followships?action=add&access_token="+d.default.getAccessToken(),e.type="POST",o(e)},getOrgInfo:function(e){e.path="/organizations/"+e.org_code+"?access_token="+d.default.getAccessToken(),o(e)},isv:{getCategories:function(e){e.path="/organizations/"+e.org_id+"/isv-categories?access_token="+d.default.getAccessToken(),o(e)},getAppsList:function(e){e.path="/organizations/"+e.org_id+"/isv-apps?access_token="+d.default.getAccessToken(),o(e)},getTheApp:function(e){e.path="/organizations/"+e.org_id+"/suite-apps?access_token="+d.default.getAccessToken(),e.type="POST",o(e)},setAppRange:function(e){e.path="/organizations/"+e.org_id+"/apps/"+e.app_id+"/scopes?access_token="+d.default.getAccessToken(),e.is_agent&&(e.path+="&is_agent="+e.is_agent),e.type="POST",o(e)},setAppCategory:function(e){e.path="/organizations/"+e.org_id+"/apps/"+e.app_id+"/catalog?access_token="+d.default.getAccessToken(),e.is_agent&&(e.path+="&is_agent="+e.is_agent),e.type="POST",o(e)},toggleShowInApplication:function(e){e.path="/organizations/"+e.org_id+"/apps/"+e.app_id+"/shortcut?access_token="+d.default.getAccessToken(),e.is_agent&&(e.path+="&is_agent="+e.is_agent),e.type="POST",o(e)},toggleTopInApplication:function(e){e.path="/organizations/"+e.org_id+"/apps/"+e.app_id+"/"+(e.pin?"pin":"unpin")+"?access_token="+d.default.getAccessToken(),e.is_agent&&(e.path+="&is_agent="+e.is_agent),e.type="POST",o(e)}}}},,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={show:function(){myApp.showIndicator()},hide:function(){myApp.hideIndicator()}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(18),n=a(o);i(120);var s=i(15),l=a(s),r=i(136),c=a(r),d=i(5),p=a(d),u=i(2),f=a(u),g=i(7),h=a(g),v=i(12),m=a(v),y=i(4),A=a(y),_=i(135),b=a(_),S=i(14),k=i(11),T={init:function(){this.handleCordova();var e=this,t=p.default.getUrlParams(window.location.href.split("?")[1])||{};return this.skip=0,this.searchSkip=0,this.category_id="",this.uid=t.userid,this.org_id=t.orgid,this.limit=f.default.LIMIT,this.week=6048e5,this.user_info=(0,k.unescapeObject)(A.default.getItem(f.default.SESSION.USER_INFO,!0)),this.listBlock=$(".list-block-custom.home ul"),this.homeInfiniteScroll=".main-page .infinite-scroll",this.searchInfiniteScroll=".search-popup .infinite-scroll",this.homePreloader=$(".main-page .infinite-scroll-preloader"),this.searchPreloader=$(".search-popup .infinite-scroll-preloader"),this.homeEmptyMsgBox=$(".main-page .empty-msg"),this.homeNoMoreMsgBox=$(".main-page .no-more-msg"),this.searchEmptyMsgBox=$(".search-popup .empty-msg"),this.searchNoMoreMsgBox=$(".search-popup .no-more-msg"),this.appMap={},this.appList=[],this.myAppList=[],this.installAppStack=[],this.org_id&&"null"!==this.org_id?(this.getCategories(this.org_id,function(){e.getAppList({skip:0},function(t){if(0===t.result.access_list.length)return T.homeEmptyMsgBox.show(),void T.homePreloader.hide();$(".list-block-custom.home").show(),t.result.access_list=T.filterHideModeApp(t.result.access_list);var i=p.default.renderTpl(c.default,t.result);return e.listBlock.html("").append(i),e.bindEventForAppItem(),t.result.access_list.length<T.limit?(T.homePreloader.hide(),void myApp.detachInfiniteScroll(T.homeInfiniteScroll)):void 0})}),this.loadMore(this.homeInfiniteScroll),this.loadMoreSearchList(this.searchInfiniteScroll),this.bindEvents(),void this.bindGetOutEvent()):void this.hasNoOrgMustGetOut()},shouldShowTip:function(){},handleCordova:function(){h.default.changeTitle([polyglot.t("name")]),window.searchEvent=function(){T.openSearchModal()},h.default.setRightButton([{icon:"6",title:"",action:"js",value:"searchEvent()"}])},transformData:function(e,t){for(var i=(p.default.getPlatform()||"").toLowerCase()||"pc",a=i+"_bundle_id",o=(new Date).getTime(),s=function(){var i=e[l];if(T.appMap[i.app_id]={},c=!1,(i.bundles||[]).forEach(function(e,n){if(T.appMap[i.app_id][e.bundle_id]=e,e.app_id=i.app_id,e.category_name=i.category_name,e.icon=p.default.fixAvatar(e.icon,f.default.DEFAULT_AVATAR),(e.screenshots||[]).forEach(function(e){return p.default.fixAvatar(e,f.default.DEFAULT_PREVIEW)}),!n&&(c=i[a]===e.bundle_id),e.isNew=o-e.upload_time<T.week,(p.default.isEmptyObject(t)||e.shortcut)&&(e.app_distribute_mode=1),0===e.app_distribute_mode&&t)for(var s in t)s===e.app_id&&(e.install_count=t[s]);else e.install_count=0;f.default.OPEN_ALL_I18N&&(e.name=(0,S.getBundleName)(polyglot.locale(),e))}),!c){if(d=i.app_id+(new Date).getTime(),u=JSON.parse((0,n.default)(i)),delete u.bundles,u.bundle_id=d,u.name=(0,S.getAppName)(polyglot.locale(),u),u.ifCantAdd=!0,u.icon=p.default.fixAvatar(u.app_icon,f.default.DEFAULT_AVATAR),u.screenshots=(u.app_screenshots||[]).map(function(e){return p.default.fixAvatar(e,f.default.DEFAULT_PREVIEW)}),u.isNew=o-u.app_create_time<T.week,p.default.isEmptyObject(t)&&(u.app_distribute_mode=1),0===u.app_distribute_mode&&t)for(g in t)g===u.app_id&&(u.install_count=t[g]);else u.install_count=0;T.appMap[u.app_id][d]=u,i.bundles.unshift(u)}console.log("isMainBundleExisting",i.app_name,c,i.bundles)},l=0,r=e.length;l<r;l++){var c,d,u,g;s()}},isMyApp:function(e){if(1===e.app_distribute_mode)return!0;for(var t=0,i=T.myAppList.length;t<i;t++)if(T.myAppList[t]===e.app_id)return!0;return!1},getCategories:function(e,t){var i=this,a={org_id:e,success:function(e){if(console.log(e),e.status!==f.default.STATUS.SUCCESS)return void m.default.alert(e.message);var a=e.result.records;if(0===a.length)return $(p.default.renderTpl(b.default,{})).insertBefore(".list-block-custom.home"),void T.homePreloader.hide();if($(".nav").show(),f.default.OPEN_ALL_I18N)for(var o=0;o<a.length;o+=1)a[o].name=(0,S.getTagName)(polyglot.locale(),a[o]);i.renderNavList(a),t&&t(),i.shouldShowTip()},error:function(e){console.log(e),m.default.alert(polyglot.t("message.error"))}};l.default.getCategories(a)},renderNavList:function(e){var t='<li class="active" data-type="">'+polyglot.t("tag.all")+"</li>",i=$(".nav-list");if(e){for(var a=0,o=e.length;a<o;a++)t+='<li data-type="'+e[a].id+'">'+e[a].name+"</li>";i.html(t),this.setCategoriesNvaWidth()}},setCategoriesNvaWidth:function(){var e=$(".nav-list"),t=0;e.find("li").each(function(e,i){t+=$(i).outerWidth()}),e.css("width",t+15+"px")},getAppList:function(e,t){function i(e,i,a){return console.log(e),e.status!==f.default.STATUS.SUCCESS?void m.default.alert(e.message):(T.myAppList=T.myAppList.concat(e.result.subscribed_list),T.transformData(e.result.access_list,e.result.counts||null),T.appList=T.appList.concat(e.result.access_list),void(t&&t(e,i,a)))}function a(e){console.log(e),m.default.alert(polyglot.t("message.error"))}var o={uid:e.uid||T.uid,org_id:e.org_id||T.org_id,category_id:e.category_id||"",skip:e.skip,kw:e.kw||"",success:i,error:a};l.default.getAppsList(o)},getAppsByCategory:function(){var e=$(this),t=T.category_id=e.data("type");e.hasClass("active")||(T.toggleNavActiveClass(e),T.resetAppsListView(),T.getAppList({skip:T.skip,category_id:t},function(e,t,i){console.log(i);var a=i.responseURL||i.requestUrl,o=$(".nav-list li.active").data("type")||"",n=p.default.getUrlParams(a.split("?")[1]).category_id,s=e.result.access_list.length;if(n===o){if(0===s)return T.homeEmptyMsgBox.show(),void T.homePreloader.hide();if(e.result.access_list=T.filterHideModeApp(e.result.access_list),0===e.result.access_list.length&&s<T.limit)return T.homeEmptyMsgBox.show(),void T.homePreloader.hide();var l=p.default.renderTpl(c.default,e.result);return T.listBlock.append($(l)),myApp.attachInfiniteScroll(T.homeInfiniteScroll),T.bindEventForAppItem(),e.result.access_list.length<T.limit?(T.homePreloader.hide(),void myApp.detachInfiniteScroll(T.homeInfiniteScroll)):void 0}}))},toggleNavActiveClass:function(e){var t=$(".nav"),i=$(".nav-list li"),a="active",o=$(e).offset().left,n=80,s=$(window).width(),l=$(e).outerWidth();i.each(function(e,t){$(t).removeClass(a)}),$(e).addClass(a),o<n&&t.scrollLeft(t.scrollLeft()-n<0?0:t.scrollLeft()-n-l<0?0:t.scrollLeft()-n-l,300),s-o<n+l&&t.scrollLeft(t.scrollLeft()+l+n,300)},resetAppsListView:function(){var e=T;e.listBlock.html(""),e.skip=0,e.homeEmptyMsgBox.hide(),e.homeNoMoreMsgBox.hide(),e.homePreloader.show(),myApp.detachInfiniteScroll($(e.homeInfiniteScroll)),e.appMap={},e.appList=[],e.myAppList=[]},loadMore:function(e){var t=!1,i=T;$(e).on("infinite",function(){t||(t=!0,i.getAppList({skip:(i.skip+1)*T.limit,category_id:i.category_id},function(a){t=!1;var o=a.result.access_list.length;if(o>0){++i.skip,a.result.access_list=T.filterHideModeApp(a.result.access_list);var n=p.default.renderTpl(c.default,a.result);i.listBlock.append($(n)),i.bindEventForAppItem()}(0===o||o<i.limit)&&(myApp.detachInfiniteScroll($(e)),i.homePreloader.hide(),i.homeNoMoreMsgBox.show())}))})},filterHideModeApp:function(e){return e.filter(function(e){return e.bundles=(e.bundles||[]).filter(function(e){return!e.hidden}),1!==e.app_hide_mode})},getTheApp:function(e){e.stopPropagation();var t=$(this),i=(t.data("type"),t.parents(".app-item")),a=i.data("id");i.data("app-id"),T.installAppStack.push(a),T.setInstallingById(a),T.installAppById(a)},setInstallingById:function(e){var t=$('.app-item[data-id="'+e+'"]'),i=t.find(".install-btn");i.addClass("ing")},installAppById:function(e){if(e===T.installAppStack[0]){var t=$('.app-item[data-id="'+e+'"]'),i=t.data("app-id"),a=t.find(".item-btn"),o=t.find(".install-count span");T.installAppByCordova(i,e,function(t){if(t.status!==f.default.STATUS.SUCCESS)return m.default.alert(polyglot.t("message.error")),void T.resetInstallStatusById(e);a.addClass("success"),o.text(1*o.text()+1);var n=T.getBundleDataByAppId(i,e);n.install_count+=1,n.linked=!0}),setTimeout(function(){T.installAppStack.shift(),T.installAppStack.length>0&&T.installAppById(T.installAppStack[0])},800)}},resetInstallStatusById:function(e){var t=$('.app-item[data-id="'+e+'"]'),i=t.find(".install-btn");i.removeClass("ing")},installAppByCordova:function(e,t,i){if(!f.default.HAS_CORDOVA)return i({status:0});var a={domain_id:this.user_info.login_user.domain_id,org_code:this.org_id,app_id:e,app_entries:[{app_id:e,entries:[t]}]};!function(e){h.default.installApp(e,function(e){i(e)})}(a)},goDetailPage:function(e){var t=$(this),i=T.getBundleDataByAppId(t.data("app-id"),t.data("id"));return A.default.addItem(f.default.SESSION.APP_DETAIL,i,!0),
"block"===$(".search-popup").css("display")?($(".search-popup").hide(),void setTimeout(function(){mainView.router.load({url:"page/detail.html"})},200)):void mainView.router.load({url:"page/detail.html"})},goAuthorityPage:function(){return"block"===$(".search-popup").css("display")?($(".search-popup").hide(),void setTimeout(function(){mainView.router.load({url:"page/authority.html"})},200)):void mainView.router.load({url:"page/authority.html"})},getBundleDataByAppId:function(e,t){return T.appMap[e][t]},bindGoDetailPageEvent:function(){var e=$(".app-item");e.off("click",T.goDetailPage),e.on("click",T.goDetailPage)},bindGetTheAppEvent:function(){var e=$(".install-btn");e.off("click",T.getTheApp),e.on("click",T.getTheApp)},bindEventForAppItem:function(){this.bindGoDetailPageEvent(),this.bindGetTheAppEvent()},openSearchModal:function(){function e(){t.hide(),t.find(".navbar input").val(""),t.find(".search-result-list").html(""),t.find(".infinite-scroll-preloader").hide(),myApp.detachInfiniteScroll($(T.searchInfiniteScroll)),h.default.changeTitle([polyglot.t("name")]),h.default.visibleLeftButton(!0,!1),h.default.setRightButton([{icon:"6",title:"",action:"js",value:"searchEvent()"}]),window.navigator.userAgent.toUpperCase().indexOf("ANDROID")<0&&t.find(".navbar input").val("").blur()}T.tip&&T.tip.trigger("click"),h.default.visibleLeftButton(!1,!1);var t=$(".search-popup");t.find(".search-result-list").html(""),t.show(),T.searchSkip=0,T.searchPreloader.hide(),T.searchEmptyMsgBox.hide(),T.searchNoMoreMsgBox.hide(),window.closeSearchEvent=e,h.default.changeTitle([polyglot.t("title.search")]),h.default.setRightButton([{icon:"-1",title:polyglot.t("button.cancel"),action:"js",value:"closeSearchEvent()"}]),t.find(".navbar input").val("").focus()},searchAppByQuery:function(e){var t=1e3;setTimeout(function(){!function(e){e&&e===$("#search-input").val().trim()&&(console.log(!0,"do search"),$(".search-result-list").html(""),T.searchSkip=0,T.searchPreloader.show(),T.searchEmptyMsgBox.hide(),T.searchNoMoreMsgBox.hide(),T.getAppList({skip:0,kw:$("#search-input").val().trim()},function(e){var t=e.result.access_list.length;if(0===t||""===$("#search-input").val().trim())return T.searchEmptyMsgBox.show(),void T.searchPreloader.hide();if(e.result.access_list=T.filterHideModeApp(e.result.access_list),0===e.result.access_list.length&&t<T.limit)return T.searchEmptyMsgBox.show(),void T.searchPreloader.hide();var i=p.default.renderTpl(c.default,e.result);return $(".search-result-list").html("").append($(i)),T.bindEventForAppItem(),e.result.access_list.length<T.limit?(T.searchPreloader.hide(),void myApp.detachInfiniteScroll(T.searchInfiniteScroll)):(T.searchPreloader.show(),void myApp.attachInfiniteScroll(T.searchInfiniteScroll))}))}(e)},t)},loadMoreSearchList:function(e){var t=!1,i=this;$(e).on("infinite",function(){t||(t=!0,i.getAppList({skip:(i.searchSkip+1)*T.limit,kw:$("#search-input").val().trim()},function(a){t=!1;var o=a.result.access_list.length;if(o>0){++i.searchSkip;var n=p.default.renderTpl(c.default,a.result);$(".search-result-list").append($(n)),i.bindEventForAppItem()}(0===o||o<i.limit)&&(myApp.detachInfiniteScroll($(e)),i.searchPreloader.hide(),i.searchNoMoreMsgBox.show())}))})},bindGetOutEvent:function(){$("#get-out").on("click",function(){h.default.getOut()})},hasNoOrgMustGetOut:function(){m.default.alert(polyglot.t("message.noOrg"),function(){h.default.getOut()})},bindEvents:function(){var e=T,t=[{element:".main-page",selector:".nav-list li",event:"click",handler:this.getAppsByCategory},{element:"body",selector:"#search-input",event:"input",handler:function(){var t=$(this).val().trim();e.searchAppByQuery(t)}}];p.default.bindEvents(t)}};t.default=T},,,,,,,,,,function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(37),n=a(o);i(117);var s=i(15),l=a(s),r=i(129),c=a(r),d=i(130),p=a(d),u=i(5),f=a(u),g=i(12),h=a(g),v=i(24),m=(a(v),i(4)),y=a(m),A=i(2),_=a(A),b=i(13),S=a(b),k=i(7),T=a(k),I=i(14),w=i(11),E={init:function(e){this.handleCordova();var t=e&&e.query||f.default.getUrlParams(window.location.href.split("?")[1])||{};console.log(t),this.org_id=t.orgid,this.app_id=t.appid,this.orgDetail={},this.pin=!0,this.shortcut=!0,this.range="someone",this.selectedEmployees=[],this.selectedOrganizations=[],n.default.all([this.getOrgInfo(),this.getAppInfo(),this.getCategoryList()]).then(this.render.bind(this)).then(this.renderCategoryPicker.bind(this)).then(this.bindEvent.bind(this)).catch(function(e){console.log("err",e),h.default.alert(polyglot.t("message.error"))})},handleCordova:function(){T.default.changeTitle([polyglot.t("title.authority")]),T.default.visibleLeftButton(!0,!1),T.default.clearRightButtons()},getOrgInfo:function(){var e=this;return new n.default(function(t,i){var a={org_code:e.org_id,success:function(a){return a.status!==_.default.STATUS.SUCCESS?i(a):(e.orgDetail=a.result,void t(a))},error:function(e){i(e)}};l.default.getOrgInfo(a)})},getAppInfo:function(){var e=this;return new n.default(function(t,i){return e.DATA=(0,w.unescapeObject)(y.default.getItem(_.default.SESSION.APP_DETAIL,!0)),e.DATA?(e.ifNeedTransformAppId=!0,t()):void T.default.adminQueryApp({app_id:e.app_id},function(a){return a?(e.DATA=a,void t()):i()})})},getCategoryList:function(){var e=this,t=this;return this.category={},this.categoryMap={},this.categoryIdList=[],this.categoryNameList=[],new n.default(function(i,a){var o={org_id:e.org_id,success:function(e){return e.status!==_.default.STATUS.SUCCESS?a():((e.result.records||[]).forEach(function(e,i){!i&&(t.category=e),t.categoryMap[e.id]=e,t.categoryIdList.push(e.id),e.category_name=(0,I.getTagName)(polyglot.locale(),e),t.categoryNameList.push(e.category_name)}),void i())},error:function(e){a()}};l.default.getCategories(o)})},render:function(){this.DATA.icon=f.default.fixAvatar(this.DATA.icon);var e=f.default.renderTpl(c.default,this.DATA);$(".authority-page").html(e)},renderCategoryPicker:function(){var e=this;$("#category_name").html(this.category.category_name),myApp.picker({input:"#picker-category_name",cols:[{textAlign:"center",values:e.categoryIdList,displayValues:e.categoryNameList}],toolbarCloseText:"确定",onClose:function(t){e.category=e.categoryMap[t.value&&t.value[0]||""]||{},$("#category_name").html(t.displayValue&&t.displayValue[0]||"")}})},addVisibleItem:function(e){var t=this,i=$(".result-list__add"),a={selectedEmployees:this.selectedEmployees,selectedOrganizations:this.selectedOrganizations};T.default.selectScopes(a,function(e){if(!e)return void h.default.alert(polyglot.t("message.error"));t.selectedEmployees=e.employees||[],t.selectedOrganizations=e.organizations||[];var a=$(".result-list"),o=f.default.renderTpl(p.default,t.selectedOrganizations.concat(t.selectedEmployees));a.find(".result-list__item").remove(),$(o).insertBefore(i),a.scrollTop(a.prop("scrollHeight"),300)})},deleteVisibleItem:function(e){var t=$(e.target),i="employee"===t.data("type")?"selectedEmployees":"selectedOrganizations";this[i]=this[i].filter(function(e){return e.id!==t.data("id")}),t.parent().remove()},changeRange:function(e){var t=$(e.target),i=t.data("key");this.range=i,t.parent(".option-list").attr("data-active",i)},submit:function(e){var t=this,i=function(){console.log("调用Cordova通知刷新"),t.triggerAdminRefreshApps(),t.back()};n.default.all([this.submitVisibleRange(),this.submitCategory(),this.toggleShowInApplication(),this.toggleTopInApplication()]).then(function(e){if(!e||!e.length||!e.filter(function(e){return!!e}).length){var t=$('<div class="toast">'+polyglot.t("authority.message.success")+"</div>");return $(".authority-page").append(t),void setTimeout(function(){t.remove(),i()},1300)}i()})},submitVisibleRange:function(){var e=this;return new n.default(function(t){console.log(e.range,e.selectedOrganizations,e.selectedEmployees);var i;if("someone"===e.range){var a=e.selectedOrganizations.map(function(e){return e.path}),o=e.selectedEmployees.map(function(e){return(e.positions||[]).map(function(t){return t.path+e.user_id})});i=Array.prototype.concat.apply(a,o)}else i=[e.orgDetail.path];var n=function(e){return h.default.alert(polyglot.t("authority.message.errorForRange"),function(){return t(e)})},s={org_id:e.org_id,app_id:e.app_id,is_agent:e.ifNeedTransformAppId,data:{code:e.org_id,scopes:i},success:function(e){return e.status===_.default.STATUS.SUCCESS?t():void n(e)},error:n};l.default.isv.setAppRange(s)})},submitCategory:function(){var e=this;return new n.default(function(t){console.log("category",e.category);var i=function(e){return h.default.alert(polyglot.t("authority.message.errorForCategory"),function(){return t(e)})},a={org_id:e.org_id,app_id:e.app_id,is_agent:e.ifNeedTransformAppId,data:{catalog_id:e.category.id,catalog_domain:e.category.domain_id},success:function(e){return e.status===_.default.STATUS.SUCCESS?t():void i(e)},error:i};l.default.isv.setAppCategory(a)})},toggleShowInApplication:function(){var e=this;return new n.default(function(t){console.log("pin",e.pin);var i=function(e){return h.default.alert(polyglot.t("authority.message.errorForShorcut"),function(){return t(e)})},a={org_id:e.org_id,app_id:e.app_id,is_agent:e.ifNeedTransformAppId,data:{shortcut:e.shortcut},success:function(e){return e.status===_.default.STATUS.SUCCESS?t():void i(e)},error:i};l.default.isv.toggleShowInApplication(a)})},toggleTopInApplication:function(){var e=this;return new n.default(function(t){console.log("shortcut",e.shortcut);var i=function(e){return h.default.alert(polyglot.t("authority.message.errorForTop"),function(){return t(e)})},a={org_id:e.org_id,app_id:e.app_id,is_agent:e.ifNeedTransformAppId,pin:e.pin,success:function(e){return e.status===_.default.STATUS.SUCCESS?t():void i(e)},error:i};l.default.isv.toggleTopInApplication(a)})},triggerAdminRefreshApps:function(){T.default.adminRefreshApps()},back:function(){return 1===$(".page").length?void T.default.getOut():void window.history.go(-1)},bindEvent:function(){var e=this,t=[{element:".authority-page",selector:".preview-list li",event:"click",handler:function(){}},{element:".authority-page",selector:".install-btn",event:"click",handler:S.default.getTheApp},{element:".authority-page",selector:".option-list__item",event:"click",handler:e.changeRange.bind(E)},{element:".authority-page",selector:".result-list__add",event:"click",handler:e.addVisibleItem.bind(E)},{element:".authority-page",selector:".result-list__item--delete",event:"click",handler:e.deleteVisibleItem.bind(E)},{element:".authority-page",selector:".toggle-item",event:"change",handler:function(e){var t=$(this).data("key");E[t]=e.target.checked}},{element:".authority-page",selector:".submit-btn",event:"click",handler:function(e){var t=$(this);t.hasClass("ing")||(t.addClass("ing"),E.submit())}}];f.default.bindEvents(t)}};t.default=E},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(118);var o=i(131),n=a(o);t.default={init:function(){myApp.popup(n.default),this.bindEvents()},show:function(){this.init()},bindEvents:function(){console.log("bindEvents")}}},,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,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"},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(119);var o=i(15),n=(a(o),i(132)),s=a(n),l=i(5),r=a(l),c=i(12),d=(a(c),i(24)),p=(a(d),i(4)),u=a(p),f=i(2),g=a(f),h=i(36),v=(a(h),i(25)),m=a(v),y=i(13),A=a(y),_=i(7),b=a(_),S=i(14),k=i(11),T={init:function(e){this.isIsvApp=e.query&&e.query.isIsvApp,this.title="",this.handleCordova(),this.getTopicDetail(),this.bindEvent()},handleCordova:function(){b.default.visibleLeftButton(!0,!1),b.default.clearRightButtons(),this.title&&b.default.changeTitle([this.title])},getTopicDetail:function(e){var t=this.DATA=(0,k.unescapeObject)(u.default.getItem(g.default.SESSION.APP_DETAIL,!0));t.category_name=(0,S.getBundleCategoryName)(polyglot.locale(),t),t.upload_time=r.default.publishTime(t.upload_time||t.app_refresh_time);var i=r.default.renderTpl(s.default,t);$(".detail-page").append($(i)),this.setPreViewListWidth(),this.title=t.name||t.app_name||"",b.default.changeTitle([this.title])},setPreViewListWidth:function(){var e=0,t=$(".preview-list");t.find("li").each(function(t,i){e+=$(i).outerWidth()}),t.css("width",e+"px")},showPhotoBrowser:function(e){var t=$(e);if(!t.parent("ul").hasClass("no-screenshots")){var i=t.index(),a=T.DATA.screenshots;b.default.showImages({position:i,urls:a})}},bindEvent:function(){var e=this,t=[{element:".detail-page",selector:".preview-list li",event:"click",handler:function(){e.showPhotoBrowser(this)}},{element:".detail-page",selector:".install-btn",event:"click",handler:e.isIsvApp?A.default.goPurchasePage:m.default.getTheApp}];r.default.bindEvents(t)}};t.default=T},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(121);var o=i(15),n=(a(o),i(137)),s=a(n),l=i(5),r=a(l),c=i(12),d=(a(c),i(24)),p=(a(d),i(4)),u=a(p),f=i(2),g=a(f),h=i(36),v=(a(h),i(13)),m=a(v),y=i(7),A=a(y),_=(i(14),i(11)),b={init:function(e){this.ifAggreeProtocol=!1,this.handleCordova(),this.render(),this.bindEvent()},handleCordova:function(){A.default.changeTitle([polyglot.t("title.purchase")]),A.default.visibleLeftButton(!0,!1),A.default.clearRightButtons()},render:function(){var e=this.DATA=(0,_.unescapeObject)(u.default.getItem(g.default.SESSION.APP_DETAIL,!0)),t=r.default.renderTpl(s.default,e);$(".purchase-page").append($(t))},bindEvent:function(){var e=this,t=[{element:".purchase-page",selector:".aggree-btn",event:"change",handler:function(t){e.ifAggreeProtocol=t.target.checked,$(".purchase-page .install-btn").removeClass("unactive")}},{element:".purchase-page",selector:".install-btn",event:"click",handler:function(t){e.ifAggreeProtocol&&m.default.getTheApp.call(this,t)}}];r.default.bindEvents(t)}};t.default=b},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(25),n=a(o),s=i(13),l=a(s),r=i(57),c=a(r),d=i(58),p=a(d),u=i(35),f=a(u);t.default={init:function(){var e=this;$(document).on("pageBeforeInit",function(t){console.log(t),e.pageBeforeInit(t.detail.page)}),$(document).on("pageReinit",function(t){console.log("reinit",t),e.pageBeforeReinit(t.detail.page)})},pageBeforeInit:function(e){switch(e.name){case"detail":c.default.init(e);break;case"purchase":p.default.init(e);break;case"authority":f.default.init(e)}},pageBeforeReinit:function(e){var t;switch(e.name){case"detail":t=c.default;break;case"purchase":t=p.default;break;default:if(window.isIsvList){t=l.default;break}t=n.default}t.handleCordova()}}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=new l.default({phrases:g[e],locale:e});return t}function n(e){$("html").addClass("lng-"+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initI18n=o,t.initI18nClassName=n;var s=i(142),l=a(s),r=i(140),c=a(r),d=i(139),p=a(d),u=i(141),f=a(u),g={"zh-CN":c.default,en:p.default,"zh-rTW":f.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},115,115,115,115,115,115,115,115,,,,,,function(e,t){e.exports='<section class="app-info row app-item" data-id={{bundle_id}} data-app-id={{app_id}}><div class="item-icon {{#if isNew}}new-app{{/if}}"><img src={{icon}} onerror="this.error=null;this.src=\'{{@global.default_avatar}}\'" width=70></div><div class=item-inner><div class=item-title>{{name}}</div></div></section><section><h3>{{js "polyglot.t(\'authority.visibleRange\')"}}</h3><div class=option-list data-active=someone><div class=option-list__item data-key=all>{{js "polyglot.t(\'authority.visibleForAll\')"}}</div><div class=option-list__item data-key=someone>{{js "polyglot.t(\'authority.visibleForSomeone\')"}}</div></div><div class=result-list><div class=result-list__add><div class=loader></div><i></i> <span>{{js "polyglot.t(\'authority.visibleTips\')"}}</span></div></div></section><section class=picker-list><ul><li class=picker-list__item><span>{{js "polyglot.t(\'authority.category\')"}}</span> <span id=category_name></span> <input readonly id=picker-category_name></li></ul></section><section class=settings><ul><li><span>{{js "polyglot.t(\'authority.visibleInAppTab\')"}}</span><label><input class=toggle-item type=checkbox checked data-key=shortcut> <span class=toggle-icon></span></label></li><li><span>{{js "polyglot.t(\'authority.top\')"}}</span><label><input class=toggle-item type=checkbox checked data-key=pin> <span class=toggle-icon></span></label></li></ul></section><footer class=footer data-id={{app_id}}><div class=submit-btn><div class=loader></div><span>{{js "polyglot.t(\'authority.submit\')"}}</span></div></footer>'},function(e,t){e.exports='{{#each this}}<div class=result-list__item>{{name}}<div class=result-list__item--delete data-id={{id}} data-type="{{#if user_id}}employee{{/if}}"></div></div>{{/each}}'},function(e,t){e.exports='<div class="popup popup-protocol"><div class=navbar><div class=navbar-inner><div class=left><a href=# class="link icon-only close-popup"><i class="icon icon-back-custom"></i></a></div><div class="center sliding">协议</div><div class=right><a href=# class="link icon-only"></a></div></div></div><div class=page><div class=protocol-content><p>如果说今天的新闻就是明天的历史，那么钛媒体也在致力于完成“中国当代商业科技史”的撰写。历史是丰富多彩的，这里需要翔实完备的纪录、客观独立的分析和细致敏锐的观察力。如果您愿意参与其中，请和我们一起。 具体而言，如果您正在从事科技领域的投资、创业；如果您是科技产品的狂热爱好者；如果您对现在和未来的科技产品、服务和趋势有原创的观点和瑰丽的想象；如果您对科技领域正在发生的大小事，新鲜事、趣味事有独特的看法……有话想说，不妨和我们的读者一起分享。 我们尤其欢迎首发稿件，会增加对其录用的几率。稿件一经录用，就会在我们的相应栏目得到重点推荐。每月，我们会评选出“热门稿件”、“最有钛度作者”，给予一定的物质激励；若文章录用至钛媒体电子周刊，我们也会提供额外奖励。观点明确，尽量不有模糊说辞 。价值判断清晰有力。哪怕未来发展与这一思路有误也不怕，大胆的推测是支撑创新的杠杆。 叙述角度独特。 哪怕是刁钻，只要能自圆其说。 专业分析，论证严密。希望能够在独特见解基础上，给出严密论证。 紧扣当下热门事件，紧扣趋势和价值。历史有各种不同的表述方法。我们聚焦于TMT行业价值发现和趋势挖掘。 深度IT控，文笔优美，不乏幽默 。</p></div><div class=protocol-check><span class=checked>我同意该协议</span></div><div class=protocol-btn><a href=# class="button button-big">确 定</a></div></div></div>'},function(e,t){e.exports='<div class="app-info row app-item" data-id={{bundle_id}} data-app-id={{app_id}}><div class="item-icon {{#if isNew}}new-app{{/if}}"><img src={{icon}} onerror="this.error=null;this.src=\'{{@global.default_avatar}}\'" width=70></div><div class=item-inner><div class=item-title>{{name}}</div>{{#js_compare "!this.isIsvApp"}} {{#if app_distribute_mode}}<div class=install-count><span>{{js "polyglot.t(\'item.mandatory\')"}}</span></div>{{else}}<div class=install-count><span>{{install_count}}</span>{{js "polyglot.t(\'item.installed\')"}}</div>{{/if}} {{/js_compare}}</div>{{#js_compare "!this.ifCantAdd"}}<div class="item-btn {{#if linked}}success{{/if}}"><div class=install-btn data-type="{{#if isIsvApp}}goPurchasePage{{/if}}"><div class=loader></div>{{#if isIsvApp}} <span>{{js "polyglot.t(\'item.purchase\')"}}</span> {{else}} <span>{{js "polyglot.t(\'item.add\')"}}</span> {{/if}}</div><div class=is-install>{{js "polyglot.t(\'item.added\')"}}</div></div>{{/js_compare}}</div><div class="app-preview {{#if screenshots.length}}has-preview{{/if}}">{{#if screenshots.length}}<ul class=preview-list>{{#each screenshots}}<li><img src={{this}} onerror="this.error=null;this.src=\'{{@global.default_prevoew}}\'" alt=""></li>{{/each}}</ul>{{/if}}</div><div class=app-detail><section class="{{#if screenshots.length}}has-preview{{/if}}"><h3>{{js "polyglot.t(\'item.description\')"}}</h3><div>{{#if app_intro}}<p>{{app_intro}}</p>{{else}}<p class=unactive>{{js "polyglot.t(\'item.noDescription\')"}}</p>{{/if}}</div></section><section><h3>{{js "polyglot.t(\'item.info\')"}}</h3><div><ul class=detail-msg-list><li><span>{{js "polyglot.t(\'item.category\')"}}</span>{{category_name}}</li><li><span>{{js "polyglot.t(\'item.updatedDate\')"}}</span>{{upload_time}}</li><li><span>{{js "polyglot.t(\'item.version\')"}}</span>{{bundle_version}}</li></ul></div></section></div>'},function(e,t,i){e.exports="<div class=empty-li><div class=notify><img src="+i(56)+' alt=""><h3>{{js "polyglot.t(\'empty.step1.msg1\')"}}</h3><h3>{{js "polyglot.t(\'empty.step1.msg2\')"}}</h3></div><div class=step-container><div class="step step1"><p>{{js "polyglot.t(\'empty.step2.msg1\')"}}</p><div></div></div><div class="step step2"><p>{{js "polyglot.t(\'empty.step2.msg2\')"}}</p><div></div></div><div class="step step3"><p>{{js "polyglot.t(\'empty.step2.msg3\')"}}</p><div></div></div></div></div>'},function(e,t){e.exports='{{#each records}}<li class=app-item data-id={{bundle_id}} data-app-id={{app_id}} data-type="{{#if isIsvApp}}purchase{{else}}add{{/if}}"><a href=javascript:; class=item-link><div class=item-content><div class="item-icon {{#if isNew}}new-app{{/if}}"><img src={{icon}} onerror="this.error=null;this.src=\'{{@global.default_avatar}}\'" width=70></div><div class=item-inner><div class=item-title>{{name}}</div><div class=item-type>{{app_intro}}</div></div><div class="item-btn {{#if linked}}success{{/if}}"><div class=install-btn><div class=loader></div><span>{{js "polyglot.t(\'item.purchase\')"}}</span></div><div class=is-install>{{js "polyglot.t(\'item.added\')"}}</div></div></div></a></li>{{/each}}'},133,function(e,t){e.exports='{{#each access_list}} {{#each bundles}}<li class="app-item {{#if @index}}child{{/if}}" data-id={{bundle_id}} data-app-id={{../app_id}} data-type="{{#if isIsvApp}}purchase{{else}}add{{/if}}"><a href=javascript:; class=item-link><div class=item-content><div class="item-icon {{#if isNew}}new-app{{/if}}"><img src={{icon}} onerror="this.error=null;this.src=\'{{@global.default_avatar}}\'" width=70></div><div class=item-inner><div class=item-title>{{name}}</div><div class=item-type>{{app_intro}}</div>{{#if app_distribute_mode}}<div class=install-count><span></span></div>{{else}}<div class=install-count><span>{{install_count}}</span>{{js "polyglot.t(\'item.installed\')"}}</div>{{/if}}</div>{{#js_compare "!this.ifCantAdd"}}<div class="item-btn {{#if linked}}success{{/if}}"><div class=install-btn data-type="{{#if isIsvApp}}goPurchasePage{{/if}}"><div class=loader></div>{{#if isIsvApp}} <span>{{js "polyglot.t(\'item.purchase\')"}}</span> {{else}} <span>{{js "polyglot.t(\'item.add\')"}}</span> {{/if}}</div><div class=is-install>{{js "polyglot.t(\'item.added\')"}}</div></div>{{/js_compare}}</div></a></li>{{/each}} {{/each}}'},function(e,t){e.exports='<section><h3>{{js "polyglot.t(\'purchase.specification\')"}}</h3><div><div class=option-btn>{{js "polyglot.t(\'purchase.free\')"}}</div></div></section><section><h3>{{js "polyglot.t(\'purchase.cycle\')"}}</h3><div><div class=option-btn>{{js "polyglot.t(\'purchase.permanent\')"}}</div></div></section><section><h3>{{js "polyglot.t(\'purchase.license\')"}}</h3><div><label class=option-label><input type=radio class=aggree-btn><div class=option-label__icon></div>{{js "polyglot.t(\'purchase.agree\')"}}<span>《{{js "polyglot.t(\'purchase.agreement\')"}}》</span></label></div></section><div class="app-item footer" data-id={{bundle_id}} data-app-id={{app_id}}><p>{{js "polyglot.t(\'purchase.needPay\')"}}</p><p class=money>¥ 0.00</p><p><span>{{js "polyglot.t(\'purchase.validityPeriod\')"}}：</span>{{js "polyglot.t(\'purchase.permanentValidity\')"}}</p><div class="item-btn {{#if linked}}success{{/if}}"><div class="install-btn unactive"><div class=loader></div><span>{{js "polyglot.t(\'purchase.purchase\')"}}</span></div></div></div>'},,function(e,t){e.exports={name:"Application Market",isvName:"Industry Solutions",title:{search:"Search",purchase:"Purchase",authority:"Application Authority Settings"},tag:{all:"All"},item:{add:"Add",purchase:"Purchase",added:"Added",installed:" installation",mandatory:"Mandatory installation",description:"Description",noDescription:"No description yet.",info:"Info",category:"Category:",updatedDate:"Updated Date:",version:"Version:"},message:{empty:"No application",noData:"No more data",placeholder:"Enter Keywords",error:"Error, please try again!",noOrg:"There is no corresponding Org info"},button:{cancel:"Cancel"},format:{date:"DD MMMM YYYY"},dialog:{title:"message",ok:"Ok",cancel:"Cancel"},empty:{step1:{msg1:"You have no apps that can be added",msg2:"Easily add the application through three steps"},step2:{msg1:"Create or apply for an Org",msg2:"Login Management Background Create or add an application",
msg3:"Then you can add the application"}},purchase:{specification:"Optional Specifications",free:"Free Version",cycle:"Usage Cycle",permanent:"Permanent",license:"License",agree:"Agree",agreement:"Service provider application software license and service agreement",needPay:"Need Pay",validityPeriod:"Validity Period",permanentValidity:"Permanent Validity",purchase:"Purchase"},authority:{visibleRange:"Visible Range Of Application",visibleForAll:"Visible For All",visibleForSomeone:"Visible For Someone",visibleForAdministrators:"Visible For Administrators",visibleTips:"Please select the visible range, you can select department or person",visibleInAppTab:"To Be Visible in【Applications】",category:"Application Catalog",top:"Top Application",submit:"Submit",message:{success:"Saved successfully",errorForRange:"Failed to apply visible range modification",errorForCategory:"Catalog modification failed",errorForShorcut:"Application display options modification failed",errorForTop:"Application topping option modification failed"}}}},function(e,t){e.exports={name:"应用市场",isvName:"行业解决方案",title:{search:"搜索",purchase:"购买",authority:"设置应用权限"},tag:{all:"全部"},item:{add:"添加",purchase:"购买",added:"已添加",installed:"人已安装",mandatory:"强制安装",description:"应用描述",noDescription:"暂无描述",info:"版本信息",category:"类别",updatedDate:"更新日期",version:"版本"},message:{empty:"没有应用",noData:"没有数据了",placeholder:"请输入关键字",success:"购买成功",error:"出错了，请重试！",noOrg:"没找到对应的组织信息"},button:{cancel:"取消"},format:{date:"YYYY年MM月DD日"},dialog:{title:"提示",ok:"确定",cancel:"取消"},empty:{step1:{msg1:"你当前没有可以添加的移动应用",msg2:"轻松三步走，添加应用"},step2:{msg1:"创建组织或者申请加入一个组织",msg2:"登录组织管理后台新建或者获取应用",msg3:"然后就可以添加应用啦"}},purchase:{specification:"可选规格",free:"免费版",cycle:"使用周期",permanent:"永久",license:"授权条款",agree:"同意",agreement:"服务商应用软件许可使用与服务协议",needPay:"需支付",validityPeriod:"有效期",permanentValidity:"永久有效",purchase:"购买"},authority:{visibleRange:"应用可见范围",visibleForAll:"全员可见",visibleForSomeone:"部分可见",visibleForAdministrators:"仅管理员可见",visibleTips:"请选择可见范围，可以选择部门或人员",visibleInAppTab:"在【应用】显示",category:"应用分类",top:"应用置顶",submit:"保存设置",message:{success:"保存成功",errorForRange:"应用可见范围修改失败",errorForCategory:"分类修改失败",errorForShorcut:"应用显示选项修改失败",errorForTop:"应用置顶选项修改失败"}}}},function(e,t){e.exports={name:"應用程式市場",isvName:"行業解決方案",title:{search:"搜索",purchase:"購買",authority:"設定應用許可權"},tag:{all:"全部"},item:{add:"新增",purchase:"購買",added:"已新增",installed:"人已安装",mandatory:"強制安裝",description:"應用資訊",noDescription:"暫無描述",info:"版本信息",category:"分類",updatedDate:"更新時間 ",version:"版本"},message:{empty:"沒有應用",noData:"沒有數據了",placeholder:"請輸入關鍵字",error:"出錯了，請重試！",noOrg:"沒找到對應的組織信息"},button:{cancel:"取消"},format:{date:"YYYY年MM月DD日"},dialog:{title:"提示",ok:"確定",cancel:"取消"},empty:{step1:{msg1:"你當前沒有可以添加的移動應用程式",msg2:"輕鬆三步走，添加應用程式"},step2:{msg1:"創建組織或者申請加入一個組織",msg2:"登錄組織管理後台創建或者獲取應用程式",msg3:"然後就可以添加應用程式了"}},purchase:{specification:"可選規格",free:"免費版",cycle:"使用週期",permanent:"永久",license:"授權條款",agree:"同意",agreement:"服務商應用軟體許可使用與服務協定",needPay:"需支付",validityPeriod:"有效期",permanentValidity:"永久有效",purchase:"購買"},authority:{visibleRange:"應用可見範圍",visibleForAll:"全員可見",visibleForSomeone:"部分可見",visibleForAdministrators:"僅管理員可見",visibleTips:"請選擇可見範圍，可以選擇部門或人員",visibleInAppTab:"在【應用】顯示",category:"應用分類",top:"應用置頂",submit:"保存設置",message:{success:"保存成功",errorForRange:"應用可見範圍修改失敗",errorForCategory:"分類修改失敗",errorForShorcut:"應用顯示選項修改失敗",errorForTop:"應用置頂選項修改失敗"}}}},,,,,,function(e,t,i){e.exports=i.p+"4c782fa8dcf656d8896fd5cc4c16c746.jpg"},function(e,t){e.exports="data:image/png;base64,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"}]);